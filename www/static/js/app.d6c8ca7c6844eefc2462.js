webpackJsonp([1],{"7Otq":function(e,t,n){e.exports=n.p+"static/img/logo.e5ca58d.png"},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("Xrl+"),n("fLmE"),n("rplX");var r,s=n("//Fk"),a=n.n(s),i=n("BO1k"),o=n.n(i),c=n("Xxa5"),l=n.n(c),u=n("exGp"),p=n.n(u),v=(r=p()(l.a.mark(function e(t){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(200==(n=e.sent).status){e.next=5;break}throw new Error(t+" responses "+n.status);case 5:return r=document.createElement("html"),e.next=8,n.text();case 8:return r.innerHTML=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)});window.scraper={fetchNewsList:function(){var e,t,n,r,s=[];return a.a.all([(e=p()(l.a.mark(function e(t){var n,r,a,i,c,u,p;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:for(n=e.sent,r=!0,a=!1,i=void 0,e.prev=6,c=o()(n.querySelector("div.c > ul").children);!(r=(u=c.next()).done);r=!0)p=u.value,s.push({url:p.getAttribute("href"),title:p.querySelector("i").textContent,date:p.querySelector("em").textContent,source:"hnyanling"});e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),a=!0,i=e.t0;case 14:e.prev=14,e.prev=15,!r&&c.return&&c.return();case 17:if(e.prev=17,!a){e.next=20;break}throw i;case 20:return e.finish(17);case 21:return e.finish(14);case 22:case"end":return e.stop()}},e,this,[[6,10,14,22],[15,,17,21]])})),n=function(t){return e.apply(this,arguments)},t=p()(l.a.mark(function e(t){var n,r,a,i,c,u,p;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:for(n=e.sent,r=!0,a=!1,i=void 0,e.prev=6,c=o()(n.querySelector("div.video-c > ul").children);!(r=(u=c.next()).done);r=!0)p=u.value,s.push({url:p.getAttribute("href"),title:p.querySelector("i").textContent,date:p.querySelector("em").textContent,thumbnail:"http://www.hnyanling.gov.cn"+p.querySelector("img").getAttribute("src"),source:"hnyanling"});e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),a=!0,i=e.t0;case 14:e.prev=14,e.prev=15,!r&&c.return&&c.return();case 17:if(e.prev=17,!a){e.next=20;break}throw i;case 20:return e.finish(17);case 21:return e.finish(14);case 22:case"end":return e.stop()}},e,this,[[6,10,14,22],[15,,17,21]])})),r=function(e){return t.apply(this,arguments)},a.a.all([n("http://www.hnyanling.gov.cn/c53/index.html"),n("http://www.hnyanling.gov.cn/c56/index.html"),n("http://www.hnyanling.gov.cn/c57/index.html"),n("http://www.hnyanling.gov.cn/c58/index.html"),r("http://www.hnyanling.gov.cn/c539/index.html")]))]).then(function(e){return s})}};var h=n("7+uW"),f=n("EOUi"),d=n.n(f),w=n("Dd8w"),g=n.n(w),m={data:function(){return{msg:"炎陵新闻",pullState:"initial",news:[]}},methods:{update_news:function(e){var t=this;scraper.fetchNewsList().then(function(e){t.news=e}).then(e).catch(e)}}},x={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-ons-page",[n("v-ons-toolbar",{staticClass:"home-toolbar"},[n("div",{staticClass:"left"},[n("v-ons-toolbar-button",{on:{click:function(t){e.$emit("toggleSetting")}}},[n("v-ons-icon",{attrs:{icon:"ion-navicon, material:md-menu"}})],1)],1),e._v(" "),n("div",{staticClass:"center"},[e._v(e._s(e.msg))])]),e._v(" "),n("v-ons-pull-hook",{attrs:{action:e.update_news},on:{changestate:function(t){e.pullState=t.state}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:"initial"===e.pullState,expression:"pullState === 'initial'"}]},[e._v(" 下拉刷新 ")]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:"preaction"===e.pullState,expression:"pullState === 'preaction'"}]},[e._v(" 松开刷新 ")]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:"action"===e.pullState,expression:"pullState === 'action'"}]},[e._v(" 加载中... ")])]),e._v(" "),n("v-ons-list",e._l(e.news,function(t){return n("v-ons-list-item",{key:t.link,on:{click:function(n){e.$emit("open-news",t)}}},[n("div",{staticClass:"center"},[e._v(e._s(t.title))])])}))],1)},staticRenderFns:[]},_={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-ons-page",[t("v-ons-toolbar",{attrs:{modifier:"transparent"}}),this._v(" "),t("div",{staticClass:"header"},[t("img",{attrs:{src:n("7Otq")}})])],1)},staticRenderFns:[]};var S={data:function(){return{sideMenuOpen:!1}},components:{NewsList:n("VU/8")(m,x,!1,null,null,null).exports,SettingMenu:n("VU/8")({data:function(){return{}}},_,!1,function(e){n("QpgM")},"data-v-3264cf37",null).exports}},k={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-ons-page",[n("v-ons-splitter",[n("v-ons-splitter-side",{attrs:{swipeable:"",collapse:"",width:"250px",open:e.sideMenuOpen},on:{"update:open":function(t){e.sideMenuOpen=t}}},[n("setting-menu")],1),e._v(" "),n("v-ons-splitter-content",[n("news-list",{on:{toggleSetting:function(t){e.sideMenuOpen=!e.sideMenuOpen}}})],1)],1)],1)},staticRenderFns:[]},y=n("VU/8")(S,k,!1,null,null,null).exports,b=n("VU/8")(null,null,!1,null,null,null).exports;console.log(y);var N={data:function(){return{pageStack:[y]}},methods:{openNews:function(e){this.pageStack.push(g()({},b,{onsNavigatorProps:e}))}}},M={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-ons-navigator",{attrs:{swipeable:"","page-stack":e.pageStack},on:{"open-news":function(t){e.openNews(t)}}})},staticRenderFns:[]},O=n("VU/8")(N,M,!1,null,null,null).exports;h.a.config.productionTip=!1,h.a.use(d.a),new h.a({el:"#app",template:"<YLnews/>",components:{YLnews:O}})},QpgM:function(e,t){},"Xrl+":function(e,t){},fLmE:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.d6c8ca7c6844eefc2462.js.map